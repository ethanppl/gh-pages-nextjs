<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>About this template</title><meta name="description" content="This is a Next.js template that can be exported as a static website and deployed on GitHub Pages."/><link rel="icon" href="./favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/gh-pages-nextjs/_next/static/css/27d177a30947857b.css" as="style"/><link rel="stylesheet" href="/gh-pages-nextjs/_next/static/css/27d177a30947857b.css" data-n-g=""/><link rel="preload" href="/gh-pages-nextjs/_next/static/css/5f6752e07898e741.css" as="style"/><link rel="stylesheet" href="/gh-pages-nextjs/_next/static/css/5f6752e07898e741.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/gh-pages-nextjs/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/gh-pages-nextjs/_next/static/chunks/webpack-69cc644dc26ef6e4.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/chunks/main-fd76bd7d0d87dd1c.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/chunks/pages/about-3caad098f3911508.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/wweO32zR8Xh7VbgyKQcWJ/_buildManifest.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/wweO32zR8Xh7VbgyKQcWJ/_ssgManifest.js" defer=""></script><script src="/gh-pages-nextjs/_next/static/wweO32zR8Xh7VbgyKQcWJ/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Home_container__bCOhY"><div class="Home_about__6Y_1_"><main class="Home_main__nLjiQ" style="align-items:flex-start"><h1 class="Home_description__41Owk"><a href="https://github.com/ethanppl/gh-pages-nextjs">This is a Next.js project template with typescript</a> <!-- -->that can be exported as a static website and deployed on GitHub Pages.</h1><h3 id="what-are-basepath-and-assetprefix-in-next-config-js-">What are <code>basePath</code> and <code>assetPrefix</code> in<!-- --> <code>next.config.js</code>?</h3><p>They change the root directory from <code>/</code> to <code>/repository_name</code>.<!-- --> <code>basePath</code> ensures all links point to the right path and<!-- --> <code>assetPrefix</code> ensures assets like CSS files can be loaded from the right place. Remember you have to replace the <code>repoName</code> in<!-- --> <code>next.config.js</code> if you are deploying this on a new GitHub repository.</p><h3 id="what-are-getstaticpaths-and-getstaticprops-">What are <code>getStaticPaths()</code> and <code>getStaticProps()</code>?</h3><p>They are used to define dynamic inputs for static pages. <code>pages/demo/[page]</code> <!-- -->is a dynamic route, Next.js requires a list of predefined paths to generate the static webpage. As specified in<!-- --> <a href="https://nextjs.org/docs/api-reference/data-fetching/get-static-paths">Next.js documentation</a>, the list of possible routes has to be defined at build time in<!-- --> <code>getStaticPaths()</code>, and fallback has to be false. With<!-- --> <code>getStaticPaths</code>, we have to include <code>getStaticProps</code> as well.</p><h3 id="image-not-showing-in-github-pages-but-works-fine-in-localhost-3000">Image not showing in GitHub Pages but works fine in localhost:3000</h3><p>Try to use a relative path for images. After <code>yarn export</code>, opening the corresponding HTML file in the <code>out</code> directory should still load the images properly, only CSS files and navigation links cannot work properly.</p><h3 id="error-getstaticpaths-was-added-without-a-getstaticprops-in-page-without-getstaticprops-getstaticpaths-does-nothing-">Error: getStaticPaths was added without a getStaticProps in page. Without getStaticProps, getStaticPaths does nothing.</h3><p>You have to provide<!-- --> <a href="https://nextjs.org/docs/api-reference/data-fetching/get-static-props"><code>getStaticProps()</code></a> <!-- -->as well. Returning empty props will do the job:</p><pre style="overflow:auto;width:100%;text-align:center"><code class="lang-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStaticProps</span>(<span class="hljs-params"></span>)<!-- --> </span>{<span class="hljs-keyword">return</span> {<span class="hljs-attr">props</span>: {}, }; }</code></pre><h3 id="error-require-of-es-modules-is-not-supported-code-err_require_esm-">Error: require() of ES modules is not supported. (code: &#x27;ERR_REQUIRE_ESM&#x27;)</h3><p>It will say something like:</p><blockquote><p>the module is an ES module file as it is a .js file whose nearest parent package.json contains &quot;type&quot;: &quot;module&quot; which defines all .js files in that package scope as ES modules. Instead rename index.js to end in .cjs, change the requiring code to use import(), or remove &quot;type&quot;: &quot;module&quot; from the module package.json.</p></blockquote><p>This happens because starting from Next.js version 12, Next.js follows the<!-- --> <a href="https://nextjs.org/blog/next-12#es-modules-support-and-url-imports">JavaScript ecosystem transitions from CommonJS to ES modules</a>. Importing ES modules are prioritized over CommonJS modules.</p><p>To fix this, first find out which modules is packaged as an ES module, meaning it specified &quot;type&quot;: &quot;module&quot; in package.json. If possible, avoid depending on that node modules. If not possible, fix it by:</p><ul><li>Rename <code>index.js</code> to <code>index.cjs</code>, or</li><li>Change require code to use <code>import()</code>, or</li><li>Remove the &quot;type&quot;: &quot;module&quot; declaration in package.json</li></ul><h3 id="error-image-optimization-using-next-js-default-loader-is-not-compatible-with-next-export-">Error: Image Optimization using Next.js default loader is not compatible with<!-- --> <code>next export</code></h3><p>You cannot use the <code>&lt;Image&gt;</code> component provided by<!-- --> <code>next/image</code> because the default loader in this component is not compatible with <code>next export</code>. To solve this, use basic <code>&lt;img /&gt;</code> tag. Remember to set the path to relative path so that it works on GitHub Pages as well.</p><p>Alternatively, you can use custom image-optimizer like<!-- --> <a href="https://github.com/cyrilwanner/next-optimized-images">next-optimized-images</a> <!-- -->or other<!-- --> <a href="https://nextjs.org/docs/api-reference/next/image#built-in-loaders">built-in loaders</a>. However, you have to be careful how they handle the image path.</p><h3 id="links-redirected-to-username-github-io-page-instead-of-username-github-io-repository-page-">Links redirected to <code>username.github.io/page</code> instead of<!-- --> <code>username.github.io/repository/page</code></h3><p>You have to use the <code>&lt;Link&gt;</code> component provided by<!-- --> <code>next/link</code> for all the links pointing to other Next.js routes. This component will prefix all the hyperlinks with your repository name so that all linkes work on GitHub Pages.</p></main></div><footer class="Home_footer____T7K"><a href="/gh-pages-nextjs">HOME</a><a href="/gh-pages-nextjs/about">ABOUT</a><a href="/gh-pages-nextjs/demo/cat">DEMO: CAT</a><a href="/gh-pages-nextjs/demo/dog">DEMO: DOG</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/about","query":{},"buildId":"wweO32zR8Xh7VbgyKQcWJ","assetPrefix":"/gh-pages-nextjs","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>